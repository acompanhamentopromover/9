<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estrutura At√¥mica - 9¬∫ Ano</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --bg-color: #F8F9FA;
            --text-color: #1E1B4B; 
            --border-color: #000000;
            
            /* TEMA: ROXO C√ìSMICO E VERDE NEON */
            --theme-light: #F3E8FF; 
            --theme-medium: #A855F7;
            --theme-dark: #6B21A8; 
            --theme-contrast: #39FF14; /* Verde Neon para destaque */
            --theme-text-active: #FFFFFF;
            
            /* FEEDBACK */
            --correct-bg: #C6F6D5;
            --correct-border: #276749;
            --wrong-bg: #FED7D7;
            --wrong-border: #C53030;
            
            --white: #FFFFFF;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: 80px;
            overflow-x: hidden;
        }

        /* ANIMA√á√ÉO DE TREMOR */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            50% { transform: translateX(6px); }
            75% { transform: translateX(-6px); }
            100% { transform: translateX(0); }
        }
        .shake-effect { animation: shake 0.4s ease-in-out; }

        /* --- LOGO RESPONSIVA --- */
        .logo-header {
            width: 100%;
            max-width: 600px;
            display: flex;
            justify-content: center;
            padding: 15px 0 5px 0;
        }

        .logo-img {
            max-height: 80px;
            width: auto;
            max-width: 85%;
            display: block;
            transition: all 0.3s ease;
        }

        @media (max-width: 600px) {
            .logo-img { max-height: 50px; }
            .container { padding: 15px; }
        }

        .container { width: 100%; max-width: 600px; padding: 20px; }

        .top-nav {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .btn-close {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .toggle-container {
            background-color: var(--white);
            border: 2px solid var(--border-color);
            border-radius: 50px;
            padding: 4px;
            display: flex;
            margin-bottom: 25px;
            box-shadow: 3px 3px 0px var(--border-color);
        }
        .toggle-btn {
            flex: 1;
            border: none;
            background: none;
            padding: 12px 0;
            border-radius: 40px;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .toggle-btn.active {
            background-color: var(--theme-dark);
            color: var(--theme-text-active);
            box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
        }

        .section-view { display: none; animation: fadeIn 0.3s ease-in-out; }
        
        .card-content {
            background-color: var(--white);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 4px 4px 0px var(--border-color);
            margin-bottom: 20px;
        }

        .example-box {
            background-color: #F3E8FF;
            border-left: 5px solid var(--theme-dark);
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .visual-row { display: flex; align-items: center; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 20px 0; }

        .question-visual {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            padding: 15px;
            background-color: var(--theme-light);
            border-radius: 12px;
            border: 1px dashed var(--theme-dark);
        }

        /* --- CORRE√á√ÉO DA LISTA DE QUEST√ïES (HORIZONTAL) --- */
        .question-map {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 5px;
            margin-bottom: 20px;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch; /* Rolagem suave no celular */
        }
        .question-map::-webkit-scrollbar { display: none; } /* Esconde a barra de rolagem */

        .map-dot {
            min-width: 40px; 
            height: 40px; 
            border: 2px solid #ccc; 
            border-radius: 10px;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 700;
            font-size: 0.9rem; 
            color: #888; 
            background: white; 
            cursor: pointer;
            transition: all 0.2s; 
            flex-shrink: 0; /* Impede que os bot√µes encolham */
        }

        .map-dot.active {
            border-color: var(--border-color); 
            background-color: var(--theme-dark);
            color: white; 
            box-shadow: 2px 2px 0px var(--border-color); 
            transform: scale(1.1);
        }
        
        .map-dot.answered-correct { background-color: var(--correct-bg); border-color: var(--correct-border); color: var(--correct-border); }
        .map-dot.answered-wrong { background-color: var(--wrong-bg); border-color: var(--wrong-border); color: var(--wrong-border); }

        .option-btn {
            display: flex; align-items: center; width: 100%; padding: 16px;
            background-color: var(--white); border: 2px solid #ccc; border-radius: 12px;
            margin-bottom: 12px; cursor: pointer; transition: all 0.2s;
        }
        .opt-circle {
            width: 32px; height: 32px; border-radius: 50%; border: 2px solid #ccc;
            margin-right: 15px; display: flex; align-items: center; justify-content: center;
            font-weight: 700; font-size: 1rem; flex-shrink: 0;
        }
        .option-btn.correct { background-color: var(--correct-bg); border-color: var(--correct-border); }
        .option-btn.correct .opt-circle { background-color: var(--correct-border); color: white; border-color: var(--correct-border); }
        .option-btn.wrong { background-color: var(--wrong-bg); border-color: var(--wrong-border); opacity: 0.8; }
        .option-btn.wrong .opt-circle { background-color: var(--wrong-border); color: white; border-color: var(--wrong-border); }
        .option-btn.disabled { pointer-events: none; }

        .feedback-box {
            display: block; margin-top: 20px; background-color: #F3E8FF;
            border: 2px solid var(--theme-dark); border-radius: 12px; padding: 20px;
            animation: slideUp 0.3s ease-out;
        }
        .feedback-title { font-weight: 800; text-transform: uppercase; font-size: 0.85rem; margin-bottom: 10px; }

        #viewResult { text-align: center; display: none; animation: fadeIn 0.5s; }
        .result-card {
            background: white; border: 2px solid black; border-radius: 20px;
            padding: 30px; box-shadow: 6px 6px 0px black; margin-bottom: 30px;
        }
        .stars-container { font-size: 3rem; margin: 10px 0; }
        .percentage-big { font-size: 3.5rem; font-weight: 800; color: var(--theme-dark); line-height: 1; margin: 10px 0; }
        .btn-retry {
            width: 100%; padding: 15px; background-color: var(--theme-dark); color: white;
            border: 2px solid black; border-radius: 12px; font-size: 1.1rem; font-weight: 700;
            cursor: pointer; box-shadow: 4px 4px 0px black; transition: transform 0.1s;
        }

        .quiz-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background-color: var(--white); border-top: 2px solid var(--border-color);
            padding: 15px 20px; display: none; justify-content: space-between; align-items: center; z-index: 100;
        }
        .nav-btn { padding: 12px 24px; border-radius: 8px; font-weight: 700; border: 2px solid var(--border-color); cursor: pointer; }
        .btn-next { background-color: var(--theme-dark); color: white; box-shadow: 2px 2px 0px var(--border-color); }
        .btn-prev { background-color: #f0f0f0; color: #555; }

        /* Tabela de Part√≠culas */
        .particle-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.85rem; }
        .particle-table th, .particle-table td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        .particle-table th { background-color: var(--theme-light); color: var(--theme-dark); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    </style>
</head>
<body>

    <div class="logo-header">
        <img src="logo.png" alt="Logo Promover" class="logo-img">
    </div>

    <div class="container">
        <nav class="top-nav">
            <a href="index.html" class="btn-close">‚¨Ö Voltar</a>
            <span style="font-size: 0.8rem; font-weight: 700; color: #888;">CI√äNCIAS</span>
        </nav>

        <div class="toggle-container">
            <button class="toggle-btn active" id="btnExp" onclick="setMode('explanation')">üìò Explica√ß√£o</button>
            <button class="toggle-btn" id="btnPrac" onclick="setMode('practice')">üß† Praticar</button>
        </div>

        <div id="viewExplanation" class="section-view" style="display: block;">
            
            <h1 style="font-size: 1.5rem; margin-bottom: 15px; line-height: 1.2;">Estrutura e Modelos At√¥micos</h1>
            <p style="color: #555; margin-bottom: 20px;">Antes de vermos os modelos, precisamos entender quem s√£o os "tijolos" que formam o √°tomo.</p>
            
            <div class="card-content" style="border-color: var(--theme-contrast);">
                <h3>1. Quem √© Quem no √Åtomo?</h3>
                <p style="font-size: 0.9rem;">O √°tomo √© dividido em duas regi√µes: o <strong>N√∫cleo</strong> (centro) e a <strong>Eletrosfera</strong> (ao redor).</p>
                
                <div class="visual-row" style="margin: 15px 0;">
                    <svg width="200" height="120" viewBox="0 0 200 120">
                        <ellipse cx="100" cy="60" rx="90" ry="30" fill="none" stroke="#A855F7" stroke-width="1" transform="rotate(15 100 60)"/>
                        <ellipse cx="100" cy="60" rx="90" ry="30" fill="none" stroke="#A855F7" stroke-width="1" transform="rotate(-15 100 60)"/>
                        <circle cx="20" cy="40" r="4" fill="#39FF14"/> <text x="15" y="30" font-size="10" fill="#39FF14">e-</text>
                        <circle cx="180" cy="80" r="4" fill="#39FF14"/>
                        <circle cx="100" cy="60" r="15" fill="#6B21A8"/>
                        <text x="92" y="64" font-size="10" fill="white" font-weight="bold">P/N</text>
                        
                        <text x="100" y="115" font-size="10" text-anchor="middle" fill="#666">Eletrosfera (El√©trons)</text>
                        <text x="100" y="15" font-size="10" text-anchor="middle" fill="#6B21A8" font-weight="bold">N√∫cleo (Pr√≥tons+N√™utrons)</text>
                    </svg>
                </div>

                <table class="particle-table">
                    <tr>
                        <th>Part√≠cula</th>
                        <th>Carga</th>
                        <th>Onde Fica?</th>
                        <th>Massa</th>
                    </tr>
                    <tr>
                        <td style="color:#D946EF; font-weight:bold;">Pr√≥ton (p)</td>
                        <td>Positiva (+)</td>
                        <td>N√∫cleo</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td style="color:#6B21A8; font-weight:bold;">N√™utron (n)</td>
                        <td>Neutra (0)</td>
                        <td>N√∫cleo</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td style="color:#39FF14; font-weight:bold;">El√©tron (e)</td>
                        <td>Negativa (-)</td>
                        <td>Eletrosfera</td>
                        <td>Desprez√≠vel</td>
                    </tr>
                </table>
                <div class="example-box" style="margin-top:10px;">
                    <strong>Dica:</strong> A massa do √°tomo est√° quase toda no n√∫cleo. O el√©tron √© t√£o leve (1836x menor) que n√£o conta na massa!
                </div>
            </div>

            <div class="card-content">
                <h3>2. Dalton (1808): A Bola de Bilhar</h3>
                <div class="visual-row">
                    <svg width="60" height="60">
                        <circle cx="30" cy="30" r="25" fill="#6B21A8" stroke="#000" stroke-width="2"/>
                    </svg>
                    <div style="flex: 1;">
                        <p style="font-size: 0.9rem;"><strong>A Ideia:</strong> Esfera maci√ßa, indivis√≠vel e sem carga.</p>
                        <p style="font-size: 0.85rem; color:#666;"><strong>Erro:</strong> N√£o explicava a eletricidade (raios, choques).</p>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <h3>3. Thomson (1898): O Pudim de Passas</h3>
                <div class="visual-row">
                    <svg width="60" height="60">
                        <circle cx="30" cy="30" r="25" fill="#D8B4FE" stroke="#000" stroke-width="1"/>
                        <circle cx="20" cy="20" r="3" fill="#000"/>
                        <circle cx="40" cy="25" r="3" fill="#000"/>
                        <circle cx="25" cy="40" r="3" fill="#000"/>
                        <circle cx="40" cy="40" r="3" fill="#000"/>
                    </svg>
                    <div style="flex: 1;">
                        <p style="font-size: 0.9rem;"><strong>A Descoberta:</strong> Descobriu o <strong>EL√âTRON</strong>. O √°tomo √© divis√≠vel!</p>
                        <p style="font-size: 0.85rem; color:#666;"><strong>O Modelo:</strong> Uma pasta positiva com el√©trons negativos grudados.</p>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <h3>4. Rutherford (1911): Sistema Planet√°rio</h3>
                <div class="visual-row">
                    <svg width="60" height="60" viewBox="0 0 60 60">
                        <circle cx="30" cy="30" r="4" fill="#6B21A8"/>
                        <ellipse cx="30" cy="30" rx="25" ry="10" fill="none" stroke="#666" transform="rotate(45 30 30)"/>
                        <ellipse cx="30" cy="30" rx="25" ry="10" fill="none" stroke="#666" transform="rotate(-45 30 30)"/>
                    </svg>
                    <div style="flex: 1;">
                        <p style="font-size: 0.9rem;"><strong>A Revolu√ß√£o:</strong> O √°tomo tem grandes vazios! N√∫cleo pequeno (+) no centro e el√©trons (-) girando longe.</p>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <h3>5. Bohr (1913): N√≠veis de Energia</h3>
                <div class="visual-row" style="background: #111; border-radius: 12px; padding: 15px; margin: 15px 0;">
                    <svg width="120" height="120" viewBox="0 0 120 120">
                        <circle cx="60" cy="60" r="6" fill="#FF3366"/> <circle cx="60" cy="60" r="22" fill="none" stroke="#444" stroke-width="1"/> <circle cx="60" cy="60" r="40" fill="none" stroke="#444" stroke-width="1"/> <circle cx="60" cy="20" r="4" fill="#39FF14">
                            <animate attributeName="cy" values="20;38;20" dur="3s" repeatCount="indefinite" />
                        </circle>
                        
                        <path d="M 65 30 Q 75 20 85 30 T 105 30" stroke="#F59E0B" fill="none" stroke-width="2">
                             <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite" />
                        </path>
                        <text x="85" y="15" font-size="10" fill="#F59E0B">Luz!</text>
                    </svg>
                    <div style="flex: 1; color: #eee;">
                        <p style="font-size: 0.85rem;"><strong>Salto Qu√¢ntico:</strong> El√©trons giram em camadas fixas (K, L, M...). Ao pular de uma camada externa para uma interna, liberam energia como <strong>LUZ</strong>.</p>
                    </div>
                </div>
            </div>

            <button onclick="setMode('practice')" style="width: 100%; padding: 15px; background: var(--text-color); color: white; border: none; border-radius: 12px; font-weight: 700; margin-bottom: 20px;">
                Ir para Exerc√≠cios (30 Quest√µes) ‚ûú
            </button>
        </div>

        <div id="viewPractice" class="section-view">
            <div style="margin-bottom: 15px;">
                <h2>Hora de Praticar!</h2>
                <p style="color: #666; font-size: 0.9rem;">Part√≠culas e Hist√≥ria do √Åtomo.</p>
            </div>
            <div class="question-map" id="qMap"></div>
            <div id="quizContainer" style="margin-bottom: 100px;"></div>
        </div>

        <div id="viewResult">
            <div class="result-card">
                <h2>Resultado</h2>
                <div class="stars-container" id="finalStars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <div class="percentage-big" id="finalPercent">100%</div>
                <p class="score-text" id="finalScoreText">Voc√™ acertou 30 de 30</p>
                <div id="review-container"></div>
            </div>
            <div id="action-buttons"></div>
        </div>

    </div>

    <footer class="quiz-footer" id="quizFooter">
        <button class="nav-btn btn-prev" id="btnPrev" onclick="changeQuestion(-1)">Anterior</button>
        <button class="nav-btn btn-next" id="btnNext" onclick="changeQuestion(1)">Pr√≥xima</button>
    </footer>

    <script>
        const questions = [
            // PARTE 1: PART√çCULAS SUBAT√îMICAS (O NOVO CONTE√öDO)
            {
                id: 1,
                text: "Qual part√≠cula possui carga el√©trica NEGATIVA?",
                options: ["Pr√≥ton", "N√™utron", "El√©tron", "N√∫cleo"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Pr√≥ton √© positivo (+).<br>
                    <strong>(B) Incorreta:</strong> N√™utron n√£o tem carga (0).<br>
                    <strong>(C) Correta:</strong> O El√©tron √© a part√≠cula negativa (-) que gira na eletrosfera.<br>
                    <strong>(D) Incorreta:</strong> N√∫cleo √© a regi√£o central.`
            },
            {
                id: 2,
                text: "Onde est√° concentrada quase toda a massa do √°tomo?",
                options: ["Na eletrosfera", "No n√∫cleo", "Nos el√©trons", "No v√°cuo"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Eletrosfera √© vazia e leve.<br>
                    <strong>(B) Correta:</strong> O n√∫cleo cont√©m pr√≥tons e n√™utrons, que s√£o pesados. √â a parte densa.<br>
                    <strong>(C) Incorreta:</strong> El√©trons t√™m massa desprez√≠vel.<br>
                    <strong>(D) Incorreta:</strong> V√°cuo n√£o tem massa.`
            },
            {
                id: 3,
                text: "Qual part√≠cula N√ÉO possui carga el√©trica (√© neutra)?",
                options: ["El√©tron", "Pr√≥ton", "N√™utron", "√çon"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Negativo.<br>
                    <strong>(B) Incorreta:</strong> Positivo.<br>
                    <strong>(C) Correta:</strong> O N√™utron, como o nome diz, √© neutro e fica no n√∫cleo para estabiliz√°-lo.<br>
                    <strong>(D) Incorreta:</strong> √çon √© um √°tomo carregado.`
            },
            {
                id: 4,
                text: "Se um √°tomo √© eletricamente NEUTRO, isso significa que:",
                options: ["N√£o tem nenhuma part√≠cula", "S√≥ tem n√™utrons", "N¬∫ de Pr√≥tons (+) = N¬∫ de El√©trons (-)", "O n√∫cleo sumiu"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Tem v√°rias.<br>
                    <strong>(B) Incorreta:</strong> Tem pr√≥tons e el√©trons.<br>
                    <strong>(C) Correta:</strong> As cargas opostas se anulam (ex: 10 pr√≥tons anulam 10 el√©trons).<br>
                    <strong>(D) Incorreta:</strong> Imposs√≠vel.`
            },
            {
                id: 5,
                text: "Qual part√≠cula determina qual √© o Elemento Qu√≠mico (RG do √°tomo)?",
                options: ["N√∫mero de Massa", "N√∫mero de N√™utrons", "N√∫mero de El√©trons", "N√∫mero de Pr√≥tons (Z)"],
                correct: 3,
                explanation: `
                    <strong>(A) Incorreta:</strong> Massa varia em is√≥topos.<br>
                    <strong>(B) Incorreta:</strong> Varia.<br>
                    <strong>(C) Incorreta:</strong> Varia em √≠ons.<br>
                    <strong>(D) Correta:</strong> O N√∫mero At√¥mico (Z) √© a quantidade de pr√≥tons. Se mudar Z, muda o elemento.`
            },
            // PARTE 2: HIST√ìRIA E MODELOS
            {
                id: 6,
                text: "Quem criou o modelo da 'Bola de Bilhar' (esfera maci√ßa)?",
                options: ["Dalton", "Thomson", "Rutherford", "Bohr"],
                correct: 0,
                explanation: `
                    <strong>(A) Correta:</strong> Dalton (1808) via o √°tomo como indivis√≠vel.<br>
                    <strong>(B) Incorreta:</strong> Thomson descobriu el√©trons.<br>
                    <strong>(C) Incorreta:</strong> Rutherford descobriu o n√∫cleo.<br>
                    <strong>(D) Incorreta:</strong> Bohr descobriu n√≠veis.`
            },
            {
                id: 7,
                text: "O que Thomson descobriu que derrubou a teoria de Dalton?",
                options: ["O n√∫cleo", "O el√©tron", "O n√™utron", "A radioatividade"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Rutherford.<br>
                    <strong>(B) Correta:</strong> Ao descobrir uma part√≠cula menor que o √°tomo (el√©tron), provou que o √°tomo ERA divis√≠vel.<br>
                    <strong>(C) Incorreta:</strong> Chadwick.<br>
                    <strong>(D) Incorreta:</strong> Becquerel/Curie.`
            },
            {
                id: 8,
                text: "O modelo de Rutherford √© comparado a:",
                options: ["Pudim de Passas", "Bola de Bilhar", "Sistema Solar", "Pr√©dio de andares"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Thomson.<br>
                    <strong>(B) Incorreta:</strong> Dalton.<br>
                    <strong>(C) Correta:</strong> N√∫cleo no centro (Sol) e el√©trons girando ao redor (Planetas).<br>
                    <strong>(D) Incorreta:</strong> Bohr (n√≠veis).`
            },
            {
                id: 9,
                text: "Segundo Bohr, o que gera a luz (f√≥ton) nos √°tomos?",
                options: ["O choque entre √°tomos", "O el√©tron caindo de uma camada externa para uma interna", "O n√∫cleo vibrando", "O el√©tron saindo do √°tomo"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Isso √© calor/press√£o.<br>
                    <strong>(B) Correta:</strong> Ao voltar para uma camada de menor energia, o el√©tron 'devolve' a energia extra em forma de luz.<br>
                    <strong>(C) Incorreta:</strong> N√∫cleo n√£o emite luz vis√≠vel assim.<br>
                    <strong>(D) Incorreta:</strong> Isso √© ioniza√ß√£o.`
            },
            {
                id: 10,
                text: "O experimento da folha de ouro (Rutherford) provou que:",
                options: ["O √°tomo √© maci√ßo", "O √°tomo tem grandes espa√ßos vazios", "O n√∫cleo √© negativo", "N√£o existem el√©trons"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> As part√≠culas alfa atravessaram.<br>
                    <strong>(B) Correta:</strong> Como a maioria das part√≠culas passou direto, concluiu-se que o √°tomo √© 'oco' (eletrosfera vazia).<br>
                    <strong>(C) Incorreta:</strong> N√∫cleo √© positivo (repeliu alfa).<br>
                    <strong>(D) Incorreta:</strong> Existem.`
            },
            // PARTE 3: √çONS E CARGAS
            {
                id: 11,
                text: "Um C√ÅTION √© um √°tomo que:",
                options: ["Ganhou el√©trons", "Perdeu el√©trons", "Ganhou pr√≥tons", "Perdeu n√™utrons"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Seria √Çnion.<br>
                    <strong>(B) Correta:</strong> Ao perder cargas negativas (el√©trons), ele fica com saldo positivo (C√°tion).<br>
                    <strong>(C) Incorreta:</strong> Pr√≥tons n√£o saem do n√∫cleo em rea√ß√µes comuns.<br>
                    <strong>(D) Incorreta:</strong> N√£o afeta carga.`
            },
            {
                id: 12,
                text: "Se um √°tomo ganha 2 el√©trons, sua carga final ser√°:",
                options: ["+2", "-2", "Neutra", "Zero"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Positivo √© perder.<br>
                    <strong>(B) Correta:</strong> Ele ganhou 2 cargas negativas. Saldo: -2.<br>
                    <strong>(C) Incorreta:</strong> Deixou de ser neutro.<br>
                    <strong>(D) Incorreta:</strong> Tem carga.`
            },
            {
                id: 13,
                text: "O N√∫mero de Massa (A) √© calculado somando:",
                options: ["Pr√≥tons + El√©trons", "N√™utrons + El√©trons", "Pr√≥tons + N√™utrons", "Tudo"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> El√©tron n√£o tem massa.<br>
                    <strong>(B) Incorreta:</strong> Errado.<br>
                    <strong>(C) Correta:</strong> A massa est√° no n√∫cleo (P + N).<br>
                    <strong>(D) Incorreta:</strong> El√©tron n√£o conta.`
            },
            {
                id: 14,
                text: "Is√≥topos s√£o √°tomos com:",
                options: ["Mesmo n¬∫ de Pr√≥tons, mas massas diferentes", "Mesmo n¬∫ de N√™utrons", "Mesma massa", "Cargas iguais"],
                correct: 0,
                explanation: `
                    <strong>(A) Correta:</strong> S√£o o 'mesmo elemento' (mesmo Z) mas com 'pesos' diferentes (diferente n).<br>
                    <strong>(B) Incorreta:</strong> Is√≥tonos.<br>
                    <strong>(C) Incorreta:</strong> Is√≥baros.<br>
                    <strong>(D) Incorreta:</strong> Irrelevante.`
            },
            {
                id: 15,
                text: "Qual part√≠cula tem massa desprez√≠vel (quase zero)?",
                options: ["Pr√≥ton", "N√™utron", "El√©tron", "√Åtomo"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Tem massa 1.<br>
                    <strong>(B) Incorreta:</strong> Tem massa 1.<br>
                    <strong>(C) Correta:</strong> √â 1836x mais leve.<br>
                    <strong>(D) Incorreta:</strong> Tem massa.`
            },
            // PARTE 4: APROFUNDAMENTO
            {
                id: 16,
                text: "Quem descobriu o N√™utron?",
                options: ["Rutherford", "Chadwick", "Thomson", "Bohr"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Previu.<br>
                    <strong>(B) Correta:</strong> James Chadwick (1932).<br>
                    <strong>(C) Incorreta:</strong> El√©tron.<br>
                    <strong>(D) Incorreta:</strong> N√≠veis.`
            },
            {
                id: 17,
                text: "A Eletrosfera √©:",
                options: ["A parte central do √°tomo", "Uma regi√£o densa e pesada", "A regi√£o perif√©rica onde giram os el√©trons", "Feita de pr√≥tons"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> N√∫cleo.<br>
                    <strong>(B) Incorreta:</strong> √â vazia e leve.<br>
                    <strong>(C) Correta:</strong> √â o grande espa√ßo ao redor do n√∫cleo.<br>
                    <strong>(D) Incorreta:</strong> Feita de el√©trons.`
            },
            {
                id: 18,
                text: "Qual modelo explica as cores dos fogos de artif√≠cio?",
                options: ["Dalton", "Thomson", "Rutherford", "Bohr"],
                correct: 3,
                explanation: `
                    <strong>(A) Incorreta:</strong> Bola maci√ßa.<br>
                    <strong>(B) Incorreta:</strong> Pudim.<br>
                    <strong>(C) Incorreta:</strong> Planet√°rio simples.<br>
                    <strong>(D) Correta:</strong> Os saltos qu√¢nticos de energia emitem luzes coloridas.`
            },
            {
                id: 19,
                text: "A part√≠cula Alfa tem carga:",
                options: ["Negativa", "Positiva", "Neutra", "Vari√°vel"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Beta √© negativa.<br>
                    <strong>(B) Correta:</strong> √â um n√∫cleo de H√©lio (2 pr√≥tons), logo √© positiva.<br>
                    <strong>(C) Incorreta:</strong> Gama √© neutra.<br>
                    <strong>(D) Incorreta:</strong> Fixa.`
            },
            {
                id: 20,
                text: "Por que o modelo de Thomson caiu?",
                options: ["N√£o explicava a massa", "N√£o explicava a eletricidade", "O experimento de Rutherford mostrou que o √°tomo n√£o era maci√ßo", "Ele n√£o gostava de pudim"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Explicava.<br>
                    <strong>(B) Incorreta:</strong> Explicava.<br>
                    <strong>(C) Correta:</strong> As part√≠culas alfa atravessaram a folha de ouro, provando que o 'pudim maci√ßo' n√£o existia.<br>
                    <strong>(D) Incorreta:</strong> Sem sentido.`
            },
            // PARTE 5: MIX FINAL
            {
                id: 21,
                text: "O n√∫cleo do √°tomo √©:",
                options: ["Grande e negativo", "Pequeno, denso e positivo", "Grande e positivo", "Pequeno e neutro"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Pequeno e positivo.<br>
                    <strong>(B) Correta:</strong> Concentra a massa num espa√ßo min√∫sculo e tem carga positiva (pr√≥tons).<br>
                    <strong>(C) Incorreta:</strong> √â pequeno.<br>
                    <strong>(D) Incorreta:</strong> √â positivo.`
            },
            {
                id: 22,
                text: "Quantos el√©trons cabem na camada K (a primeira)?",
                options: ["2", "8", "18", "32"],
                correct: 0,
                explanation: `
                    <strong>(A) Correta:</strong> A camada mais pr√≥xima do n√∫cleo s√≥ suporta 2 el√©trons.<br>
                    <strong>(B) Incorreta:</strong> Camada L.<br>
                    <strong>(C) Incorreta:</strong> Camada M.<br>
                    <strong>(D) Incorreta:</strong> Camada N.`
            },
            {
                id: 23,
                text: "O que mant√©m os el√©trons presos ao √°tomo?",
                options: ["Gravidade", "Atra√ß√£o el√©trica pelo n√∫cleo", "Cola", "Magnetismo"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Fraca.<br>
                    <strong>(B) Correta:</strong> O n√∫cleo (+) atrai a eletrosfera (-).<br>
                    <strong>(C) Incorreta:</strong> N√£o.<br>
                    <strong>(D) Incorreta:</strong> N√£o √© o principal.`
            },
            {
                id: 24,
                text: "A ordem cronol√≥gica √©:",
                options: ["Dalton, Thomson, Rutherford, Bohr", "Bohr, Rutherford, Thomson, Dalton", "Thomson, Dalton, Rutherford, Bohr", "Rutherford, Dalton, Thomson, Bohr"],
                correct: 0,
                explanation: `
                    <strong>(A) Correta:</strong> Bola (1808) -> Pudim (1898) -> Planet√°rio (1911) -> N√≠veis (1913).<br>
                    <strong>(B) Incorreta:</strong> Invertido.<br>
                    <strong>(C) Incorreta:</strong> Dalton primeiro.<br>
                    <strong>(D) Incorreta:</strong> Dalton primeiro.`
            },
            {
                id: 25,
                text: "√Çnion √©:",
                options: ["√çon positivo", "√çon negativo", "√Åtomo neutro", "Mol√©cula"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> C√°tion.<br>
                    <strong>(B) Correta:</strong> Ganhou el√©trons (negativo).<br>
                    <strong>(C) Incorreta:</strong> Tem carga.<br>
                    <strong>(D) Incorreta:</strong> √â um √°tomo carregado.`
            },
            {
                id: 26,
                text: "Qual part√≠cula n√£o desvia em campo el√©trico?",
                options: ["Pr√≥ton", "El√©tron", "N√™utron", "Alfa"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Vai para o negativo.<br>
                    <strong>(B) Incorreta:</strong> Vai para o positivo.<br>
                    <strong>(C) Correta:</strong> Como √© neutro (carga 0), n√£o √© atra√≠do nem repelido.<br>
                    <strong>(D) Incorreta:</strong> √â positiva.`
            },
            {
                id: 27,
                text: "Se Z=11 e N=12, qual a massa (A)?",
                options: ["11", "12", "23", "1"],
                correct: 2,
                explanation: `
                    <strong>(A) Incorreta:</strong> Z.<br>
                    <strong>(B) Incorreta:</strong> N.<br>
                    <strong>(C) Correta:</strong> A = Z + N = 11 + 12 = 23.<br>
                    <strong>(D) Incorreta:</strong> Diferen√ßa.`
            },
            {
                id: 28,
                text: "A eletrosfera √© dividida em:",
                options: ["Andares", "N√≠veis de energia (ou camadas)", "Compartimentos", "Fatias"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Termo errado.<br>
                    <strong>(B) Correta:</strong> K, L, M, N, O, P, Q.<br>
                    <strong>(C) Incorreta:</strong> Termo errado.<br>
                    <strong>(D) Incorreta:</strong> Termo errado.`
            },
            {
                id: 29,
                text: "O √°tomo √© majoritariamente:",
                options: ["Maci√ßo", "Vazio", "L√≠quido", "Positivo"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Dalton achava isso.<br>
                    <strong>(B) Correta:</strong> Rutherford provou que o espa√ßo entre n√∫cleo e el√©trons √© imenso e vazio.<br>
                    <strong>(C) Incorreta:</strong> Estado da mat√©ria.<br>
                    <strong>(D) Incorreta:</strong> Neutro.`
            },
            {
                id: 30,
                text: "A ci√™ncia dos modelos at√¥micos parou em Bohr?",
                options: ["Sim, ele explicou tudo", "N√£o, veio o modelo Qu√¢ntico depois", "Sim, ningu√©m estuda mais isso", "N√£o, voltamos para Dalton"],
                correct: 1,
                explanation: `
                    <strong>(A) Incorreta:</strong> Tinha falhas.<br>
                    <strong>(B) Correta:</strong> O modelo atual √© o da Mec√¢nica Qu√¢ntica (orbitais, Schr√∂dinger), que √© mais complexo.<br>
                    <strong>(C) Incorreta:</strong> Estuda-se muito.<br>
                    <strong>(D) Incorreta:</strong> Jamais.`
            }
        ];

        // L√≥gica do Quiz
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);

        function setMode(mode) {
            const views = ['viewExplanation', 'viewPractice', 'viewResult'];
            views.forEach(v => document.getElementById(v).style.display = 'none');
            document.getElementById('quizFooter').style.display = 'none';

            if(mode === 'explanation') {
                document.getElementById('viewExplanation').style.display = 'block';
                document.getElementById('btnExp').classList.add('active');
                document.getElementById('btnPrac').classList.remove('active');
            } else if (mode === 'practice') {
                document.getElementById('viewPractice').style.display = 'block';
                document.getElementById('quizFooter').style.display = 'flex';
                document.getElementById('btnExp').classList.remove('active');
                document.getElementById('btnPrac').classList.add('active');
                renderQuestion();
                renderMap();
            } else if (mode === 'result') {
                document.getElementById('viewResult').style.display = 'block';
            }
            window.scrollTo(0,0);
        }

        function renderQuestion() {
            const q = questions[currentQuestion];
            const container = document.getElementById('quizContainer');
            const letters = ['A', 'B', 'C', 'D'];
            const ans = userAnswers[currentQuestion];

            container.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <span style="font-size: 0.8rem; font-weight: 700; color: #888;">QUEST√ÉO ${currentQuestion + 1} DE ${questions.length}</span>
                    <h2 style="font-size: 1.1rem; margin-top: 5px;">${q.text}</h2>
                </div>
                ${q.visual ? `<div class="question-visual">${q.visual}</div>` : ''}
                <div class="options-list">
                    ${q.options.map((opt, i) => {
                        let cls = '';
                        if (ans !== null) {
                            if (i === q.correct) cls = 'correct';
                            else if (i === ans) cls = 'wrong';
                            else cls = 'disabled';
                        }
                        return `
                            <div class="option-btn ${cls}" onclick="handleAnswer(${i})">
                                <div class="opt-circle">${letters[i]}</div>
                                <div>${opt}</div>
                            </div>
                        `;
                    }).join('')}
                </div>
                ${ans !== null ? `
                    <div class="feedback-box">
                        <div class="feedback-title">${ans === q.correct ? '‚úÖ Acertou!' : '‚ùå Veja a explica√ß√£o detalhada:'}</div>
                        <div style="font-size:0.9rem; line-height:1.6;">${q.explanation}</div>
                    </div>
                ` : ''}
            `;
            updateNav();
        }

        function handleAnswer(idx) {
            if (userAnswers[currentQuestion] !== null) return;
            userAnswers[currentQuestion] = idx;
            if (idx === questions[currentQuestion].correct) {
                confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            } else {
                document.body.classList.add('shake-effect');
                setTimeout(() => document.body.classList.remove('shake-effect'), 500);
            }
            renderQuestion();
            renderMap();
        }

        function renderMap() {
            const map = document.getElementById('qMap');
            map.innerHTML = questions.map((q, i) => {
                let cls = 'map-dot';
                if (i === currentQuestion) cls += ' active';
                if (userAnswers[i] !== null) {
                    cls += userAnswers[i] === q.correct ? ' answered-correct' : ' answered-wrong';
                }
                return `<div class="${cls}" onclick="goTo(${i})">${i+1}</div>`;
            }).join('');
        }

        function goTo(i) { currentQuestion = i; renderQuestion(); renderMap(); }
        function changeQuestion(d) {
            let n = currentQuestion + d;
            if (n >= 0 && n < questions.length) goTo(n);
        }

        function updateNav() {
            document.getElementById('btnPrev').disabled = (currentQuestion === 0);
            const next = document.getElementById('btnNext');
            if (currentQuestion === questions.length - 1) {
                next.textContent = "Finalizar";
                next.onclick = finish;
            } else {
                next.textContent = "Pr√≥xima";
                next.onclick = () => changeQuestion(1);
            }
        }

        function finish() {
            let correct = userAnswers.filter((a, i) => a === questions[i].correct).length;
            let percent = Math.round((correct / questions.length) * 100);
            
            document.getElementById('finalPercent').textContent = percent + "%";
            document.getElementById('finalScoreText').textContent = `Voc√™ acertou ${correct} de ${questions.length}`;
            document.getElementById('finalStars').textContent = percent >= 80 ? "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê" : percent >= 50 ? "‚≠ê‚≠ê‚≠ê" : "‚≠ê";
            
            let summary = '<div style="text-align:left; margin-top:20px;">';
            questions.forEach((q, i) => {
                if(userAnswers[i] !== q.correct) {
                    summary += `<div style="margin-bottom:10px; padding:10px; background:#FEE2E2; border-radius:8px;">
                        <strong>Q${i+1}:</strong> ${q.text}<br>
                        <span style="color:#991B1B">Sua resposta: ${q.options[userAnswers[i]]}</span><br>
                        <span style="color:#166534">Correta: ${q.options[q.correct]}</span>
                    </div>`;
                }
            });
            summary += '</div>';
            
            document.getElementById('review-container').innerHTML = summary;
            document.getElementById('action-buttons').innerHTML = `<button class="btn-retry" onclick="reset()">üîÑ Tentar Novamente</button>`;
            setMode('result');
        }

        function reset() { userAnswers = new Array(questions.length).fill(null); currentQuestion = 0; setMode('explanation'); }
        setMode('explanation');
    </script>
</body>
</html>